# --- Plugin path (XDG-aware) -------------------------------------------------
if -b 'test -n "$XDG_DATA_HOME"' \
  'set-environment -g TMUX_PLUGIN_MANAGER_PATH "$XDG_DATA_HOME/tmux/plugins"' \
  'set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.local/share/tmux/plugins"'

# Ensure the directory exists
run-shell 'mkdir -p "$TMUX_PLUGIN_MANAGER_PATH"'

# --- Plugins -----------------------------------------------------------------
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'jabirali/tmux-tilish'

set -g @tilish-bindings "on"
set -g @tilish-cycle "on"

# --- Bootstrap TPM if missing ------------------------------------------------
if-shell '[ ! -d "$TMUX_PLUGIN_MANAGER_PATH/tpm" ]' \
  "run-shell 'git clone https://github.com/tmux-plugins/tpm \"$TMUX_PLUGIN_MANAGER_PATH/tpm\" && tmux display-message \"[tpm] Installed to $TMUX_PLUGIN_MANAGER_PATH/tpm\"'"

# --- Initialize TPM (keep at end) -------------------------------------------
run-shell "$TMUX_PLUGIN_MANAGER_PATH/tpm/tpm"

# vim: set ft=tmux ts=2 sw=2:

