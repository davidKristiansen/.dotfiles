#!/usr/bin/env bash
set -Eeuo pipefail

SCRIPT_DIR=$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" &>/dev/null && pwd)

echo Hold on to your bootstraps !

(
  cd "${SCRIPT_DIR}"

  "${SCRIPT_DIR}"/.local/bin/stow.sh \
    -i "^\.git" \
    -i "^\.github" \
    -i "$(basename "${0}")" \
    -f
)

. "${HOME}"/.zshenv


if ! type mise &>/dev/null; then
  \curl https://mise.run | sh
else
  mise self-update
fi

mise trust "${SCRIPT_DIR}/.config/mise/config.toml"
mise plugin install neovim

mise install --yes

# vim: set ft=sh ts=2 sw=2:

